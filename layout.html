
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Disaster Management Portal</title>
 <link rel="stylesheet" href="layout.css">

  <!-- Leaflet CSS -->
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css"
    integrity="sha256-sA+oKk0g0b2u6q6XkY3w8Xw2p6Q3C6p1wG6p7X1vYkM=" crossorigin=""/>

</head>
<body>
  
  <!-- Add this inside <body>, before navbar-right or inside navbar -->
<div class="navbar">
  <div class="hamburger" onclick="openSidebar()">â˜°</div>
  <div class="brand">Disaster Management Portal</div>
</div>


<!-- Navbar Right -->
<div class="navbar-right">
  <select id="language" onchange="changeLanguage()">
    <option value="en">English</option>
    <option value="hi">Hindi</option>
    <option value="te">Telugu</option>
    <option value="ta">Tamil</option>
    <option value="bn">Bengali</option>
    <option value="ml">Malayalam</option>
    <option value="gu">Gujarati</option>
    <option value="kn">Kannada</option>
    <option value="mr">Marathi</option>
  </select>
  <div class="logo-right" title="Azadi Ka Amrit Mahotsav">
    <img src="azadi.png" alt="Azadi Logo">
  </div>
</div>

 <!-- Emergency Protocols Modal -->
<div id="emergencyModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="card" role="document">
    <span class="close-modal" onclick="closeEmergencyModal()">&times;</span>
    <h3>ğŸ›Ÿ Emergency Protocols for Ocean Disasters</h3>
    <div id="emergencyContent" style="line-height:1.6; margin-top:10px;">
      <h4>ğŸŒª Cyclone / Storm Surge</h4>
      <ul>
        <li>Stay indoors, away from windows.</li>
        <li>Move to higher floors if flooding occurs.</li>
        <li>Keep emergency kit ready (water, flashlight, medicines).</li>
      </ul>
      <h4>ğŸŒŠ Tsunami</h4>
      <ul>
        <li>Evacuate to higher ground immediately.</li>
        <li>Do not return until authorities declare safe.</li>
      </ul>
      <h4>ğŸ”¥ Coastal Flooding</h4>
      <ul>
        <li>Switch off electricity and gas connections.</li>
        <li>Move valuables and important documents to safe place.</li>
        <li>Follow local alerts for evacuation.</li>
      </ul>
      <h4>ğŸ’¨ High Winds / Cyclone Gusts</h4>
      <ul>
        <li>Avoid going outside during strong winds.</li>
        <li>Secure loose objects around your house.</li>
      </ul>
    </div>
  </div>
</div>




  <!-- Sidebar -->
  <div id="sidebar" class="sidebar" aria-hidden="true">
    <span class="close-btn" onclick="closeSidebar()">&times;</span>
    <a href="#" onclick="showHome()">Dashboard</a>
    <a href="#" onclick="showAlerts()">Alerts</a>
    <a href="#" onclick="showResources()">Resources</a>
    <a href="#" onclick="showSafety()">Safety Measures</a>
    <a href="#" onclick="showMap()">View Map</a>
    <a href="#" onclick="closeSidebar()">Settings</a>
    <!-- In your sidebar div -->
<a href="#" onclick="openEmergencyModal()">ğŸ›Ÿ Emergency Protocols</a>

  </div>
  <ul>
  <li>NDRF: <a href="tel:01124363260">011-24363260</a></li>
  <li>Coastal Guard: <a href="tel:18001801234">1800-180-1234</a></li>
  <li>Police / Ambulance / Fire: <a href="tel:112">112</a></li>
</ul>
<!--map-->
<div class="login-card" onclick="showMap()">
  ğŸ—ºï¸ View Coastal Map
</div>


  <!-- MAIN CONTAINER -->
  <div class="container">
    <!-- HERO -->
    <section id="homeSection" class="hero">
      <h1 id="pageTitle">Welcome to Disaster Management Portal</h1>
      <p id="pageSubtitle">Get alerts, report incidents and learn safety measures.</p>

      <div class="login-options">
        <div class="login-card" onclick="openCitizenForm()">
          ğŸ‘¤ <span id="citizenText">Login as Citizen</span>
        </div>
        <div class="login-card" onclick="alert('Official/Researcher Login (placeholder)')">
          ğŸ§‘â€ğŸ’¼ <span id="officialText">Login as Official / Researcher</span>
        </div>
      </div>

      <div class="middle-bottom-btn">
        <button class="ocean-btn" onclick="openOceanModal()">ğŸŒŠ Ocean Info</button>
      </div>

      <div class="logos" aria-hidden="false">
        
        <img src="ndrf.png" alt="NDRF">
        
      </div>
    </section>

    <!-- MAP SECTION -->
    <section id="mapSection">
      <h2 id="mapTitle">ğŸŒ Disaster Prone Areas Map (Ocean Threats Highlighted)</h2>
      <div id="map"></div>
      <div style="text-align:center">
        <button class="map-back-btn" onclick="hideMap()">â¬… Back to Home</button>
      </div>
    </section>
  </div>

  <!-- FOOTER -->
  <footer>
    <div id="footerInfo">
      ğŸŒŠ Ocean: Keep away from shore during alerts â€¢ ğŸŒª Cyclone: Follow evacuation orders â€¢ ğŸš¨ Report incidents to local authorities
    </div>
    <div style="margin-top:6px;font-size:12px;color:#cfe6ff">&copy; 2025 Disaster Management Portal</div>
  </footer>

<!-- CITIZEN FORM MODAL -->
<div id="citizenModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
  <div class="card" role="document">
    <span class="close-modal" onclick="closeCitizenForm()">&times;</span>
    <h3 id="formTitle">Citizen Registration</h3>

    <form id="citizenForm">
      <!-- Name -->
      <label id="lblName" for="inpName">Name</label>
      <input type="text" id="inpName" name="name" placeholder="Enter your name" required />
      <!--Phone number-->
<label id="lblPhone" for="'inpPhone">Phone number</label>
<input type="'integer" id="'inpPhone" name="Phone Number" placeholder="Phone Number" required maxlength="10" pattern="\d{10}"
      <!-- Aadhaar -->
      <label id="lblAadhaar" for="inpAadhaar">Aadhaar Number</label>
      <input type="text" id="inpAadhaar" name="aadhaar" placeholder="Enter Aadhaar number" required maxlength="12" pattern="\d{12}" />

      <!-- Gender -->
      <label id="lblGender" for="inpGender">Gender</label>
      <select id="inpGender" name="gender" required>
        <option value="">-- Select Gender --</option>
        <option value="Male">Male</option>
        <option value="Female">Female</option>
        <option value="Other">Other</option>
      </select>

      <!-- State / UT -->
      <label id="lblState" for="inpCoastalState">State / UT</label>
      <select id="inpCoastalState" name="state" required>
        <option value="">-- Select State / UT --</option>
        <option value="Gujarat">Gujarat</option>
        <option value="Maharashtra">Maharashtra</option>
        <option value="Goa">Goa</option>
        <option value="Karnataka">Karnataka</option>
        <option value="Kerala">Kerala</option>
        <option value="Tamil Nadu">Tamil Nadu</option>
        <option value="Andhra Pradesh">Andhra Pradesh</option>
        <option value="Odisha">Odisha</option>
        <option value="West Bengal">West Bengal</option>
        <option value="Andaman and Nicobar Islands">Andaman and Nicobar Islands</option>
        <option value="Lakshadweep">Lakshadweep</option>
        <option value="Puducherry">Puducherry</option>
        <option value="Daman and Diu">Daman and Diu</option>
      </select>

      <!-- District -->
      <label id="lblDistrict" for="inpCoastalDistrict">District</label>
      <select id="inpCoastalDistrict" name="district" required>
        <option value="">-- Select District --</option>
      </select>

      <!-- City / Town -->
      <label id="lblCity" for="inpCity">City / Town</label>
      <input type="text" id="inpCity" name="city" placeholder="Enter your city / town" required />

      <!-- Submit -->
      <button type="submit" id="submitBtn" class="submit-btn">Submit</button>
    </form>
  </div>
</div>





  <!-- OCEAN INFO MODAL -->
  <div id="oceanModal" class="modal" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="card" role="document">
      <span class="close-modal" onclick="closeOceanModal()">&times;</span>
      <h3>ğŸŒŠ Ocean & Weather Info</h3>
      <select id="oceanLocation">
        <option value="">-- Select Coastal District --</option>
        <option value="Chennai,IN">Chennai</option>
        <option value="Mumbai,IN">Mumbai</option>
        <option value="Kolkata,IN">Kolkata</option>
        <option value="Visakhapatnam,IN">Visakhapatnam</option>
        <option value="Kochi,IN">Kochi</option>
        <option value="Goa,IN">Goa</option>
        <option value="Mangalore,IN">Mangalore</option>
        <option value="Puri,IN">Puri</option>
      </select>
      <button onclick="useCurrentOceanLocation()">ğŸ“ Use My Current Location</button>
      <button onclick="fetchOceanData()">âœ… Get Info</button>
      <div id="oceanInfo"></div>
    </div>
  </div>
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"
    integrity="sha256-o9N1j7kXg+0b2u6q6XkY3w8Xw2p6Q3C6p1wG6p7X1vYkM=" crossorigin=""></script>
    <script>
      /* ------------------ Sidebar & Sections ------------------ */
    function openSidebar(){ document.getElementById('sidebar').style.width='300px'; document.getElementById('sidebar').setAttribute('aria-hidden','false') }
    function closeSidebar(){ document.getElementById('sidebar').style.width='0'; document.getElementById('sidebar').setAttribute('aria-hidden','true') }
    function showHome(){ closeSidebar(); document.getElementById('homeSection').style.display='block'; document.getElementById('mapSection').style.display='none'; }
    function showMap(){ closeSidebar(); document.getElementById('homeSection').style.display='none'; document.getElementById('mapSection').style.display='block'; setTimeout(()=>{ if(!window.mapInitialized) initMap(); },50);}
    function hideMap(){ showHome(); }
    function showAlerts(){ alert('Alerts (placeholder)') }
    function showResources(){ alert('Resources (placeholder)') }
    function showContacts(){ alert('Emergency Contacts (placeholder)') }
    function showSafety(){ alert('Safety Measures (placeholder)') }

    /* ------------------ Citizen Modal ------------------ */
    function openCitizenForm(){ document.getElementById('citizenModal').style.display='flex'; document.getElementById('citizenModal').setAttribute('aria-hidden','false'); }
    function closeCitizenForm(){ document.getElementById('citizenModal').style.display='none'; document.getElementById('citizenModal').setAttribute('aria-hidden','true'); }

    /* ------------------ Ocean Modal ------------------ */
    function openOceanModal(){ document.getElementById('oceanModal').style.display='flex'; document.getElementById('oceanModal').setAttribute('aria-hidden','false'); }
    function closeOceanModal(){ document.getElementById('oceanModal').style.display='none'; document.getElementById('oceanModal').setAttribute('aria-hidden','true'); }

    /* ------------------ API KEYS ------------------ */
    const OPENWEATHER_API_KEY = "6f0804e337464264b65172336250209";
    const STORMGLASS_API_KEY = "2d455974-8822-11f0-b0b8-0242ac130006-2d455a3c-8822-11f0-b0b8-0242ac130006";

    let currentOceanCoords = null;

    function useCurrentOceanLocation(){
      if(navigator.geolocation){
        navigator.geolocation.getCurrentPosition(pos=>{
          currentOceanCoords = {lat: pos.coords.latitude, lon: pos.coords.longitude};
          alert("Location captured! Now click 'Get Info'");
        }, err=>{ alert("Location access denied or error."); });
      } else alert("Geolocation not supported.");
    }

    async function fetchOceanData(){
      let lat, lon;
      const sel = document.getElementById('oceanLocation').value;
      if(sel){ 
        const res = await fetch(`https://api.openweathermap.org/geo/1.0/direct?q=${sel}&limit=1&appid=${OPENWEATHER_API_KEY}`);
        const data = await res.json();
        if(data.length>0){ lat = data[0].lat; lon = data[0].lon; } else { alert("Location not found"); return; }
      } else if(currentOceanCoords){ lat=currentOceanCoords.lat; lon=currentOceanCoords.lon; }
      else { alert("Select location or use current location."); return; }

      try{
        const weatherRes = await fetch(`https://api.openweathermap.org/data/2.5/weather?lat=${lat}&lon=${lon}&units=metric&appid=${OPENWEATHER_API_KEY}`);
        const weatherData = await weatherRes.json();
        const tideRes = await fetch(`https://api.stormglass.io/v2/tide/extremes/point?lat=${lat}&lng=${lon}`, { headers: { 'Authorization': STORMGLASS_API_KEY }});
        const tideData = await tideRes.json();
        const infoDiv = document.getElementById('oceanInfo');
        infoDiv.innerHTML = `
          <p><b>ğŸŒ¬ï¸ Wind Speed:</b> ${weatherData.wind.speed} m/s</p>
          <p><b>ğŸŒ¡ï¸ Temperature:</b> ${weatherData.main.temp} Â°C</p>
          <p><b>ğŸŒ¦ï¸ Weather:</b> ${weatherData.weather[0].description}</p>
          <p><b>ğŸŒŠ Next Tide:</b> ${tideData.data.length>0 ? tideData.data[0].height+' m at '+new Date(tideData.data[0].time).toLocaleTimeString() : 'N/A'}</p>
        `;
      } catch(err){ console.error(err); alert("Error fetching ocean/weather data"); }
    }

    
// Open / Close Emergency Modal
function openEmergencyModal(){
  document.getElementById('emergencyModal').style.display='flex';
  document.getElementById('emergencyModal').setAttribute('aria-hidden','false');
}

function closeEmergencyModal(){
  document.getElementById('emergencyModal').style.display='none';
  document.getElementById('emergencyModal').setAttribute('aria-hidden','true');
}

// --- Districts per state ---
const stateDistricts = {
  "Gujarat": ["Ahmedabad", "Surat", "Vadodara", "Rajkot", "Bhavnagar"],
  "Maharashtra": ["Mumbai", "Pune", "Nagpur", "Thane", "Nashik"],
  "Goa": ["North Goa", "South Goa"],
  "Karnataka": ["Bengaluru", "Mysuru", "Mangaluru", "Hubli-Dharwad", "Belagavi"],
  "Kerala": ["Thiruvananthapuram", "Kochi", "Kozhikode", "Thrissur", "Alappuzha"],
  "Tamil Nadu": ["Chennai", "Coimbatore", "Madurai", "Tiruchirappalli", "Salem"],
  "Andhra Pradesh": ["Visakhapatnam", "Vijayawada", "Guntur", "Tirupati", "Kadapa"],
  "Odisha": ["Bhubaneswar", "Cuttack", "Puri", "Rourkela", "Sambalpur"],
  "West Bengal": ["Kolkata", "Howrah", "Durgapur", "Siliguri", "Darjeeling"],
  "Andaman and Nicobar Islands": ["Port Blair"],
  "Lakshadweep": ["Kavaratti"],
  "Puducherry": ["Puducherry"],
  "Daman and Diu": ["Daman", "Diu"]
};

// --- Populate districts based on state selection ---
const stateSelect = document.getElementById('inpCoastalState');
const districtSelect = document.getElementById('inpCoastalDistrict');

stateSelect.addEventListener('change', () => {
  const selectedState = stateSelect.value;
  districtSelect.innerHTML = '<option value="">-- Select District --</option>'; // Reset

  if(selectedState && stateDistricts[selectedState]){
    stateDistricts[selectedState].forEach(d => {
      const opt = document.createElement('option');
      opt.value = d;
      opt.textContent = d;
      districtSelect.appendChild(opt);
    });
  }
});

// --- Optional: save citizen form locally ---
document.getElementById('citizenForm').addEventListener('submit', e => {
  e.preventDefault();
  const userProfile = {
    name: document.getElementById('inpName').value,
    aadhaar: document.getElementById('inpAadhaar').value,
    gender: document.getElementById('inpGender').value,
    state: document.getElementById('inpCoastalState').value,
    district: document.getElementById('inpCoastalDistrict').value,
    city: document.getElementById('inpCity').value
  };
  localStorage.setItem('userProfile', JSON.stringify(userProfile));
  alert("Profile saved successfully!");
  closeCitizenForm();
});

/* language js function*/

function changeLanguage() {
  const lang = document.getElementById('language').value;

  // Page content translations
  const translations = {
    en: {
      pageTitle: "Welcome to Disaster Management Portal",
      pageSubtitle: "Get alerts, report incidents and learn safety measures.",
      citizenText: "Login as Citizen",
      officialText: "Login as Official / Researcher",
      formTitle: "Citizen Registration",
      lblName: "Name",
      lblAadhaar: "Aadhaar Number",
      lblGender: "Gender",
      lblState: "State / UT",
      lblDistrict: "District",
      lblCity: "City / Town",
      submitBtn: "Submit"
    },
    ml: {
  pageTitle: "à´¦àµà´°à´¨àµà´¤ à´®à´¾à´¨àµ‡à´œàµà´®àµ†à´¨àµà´±àµ à´ªàµ‹àµ¼à´Ÿàµà´Ÿà´²à´¿à´²àµ‡à´•àµà´•àµ à´¸àµà´µà´¾à´—à´¤à´‚",
  pageSubtitle: "à´…à´±à´¿à´¯à´¿à´ªàµà´ªàµà´•àµ¾ à´²à´­à´¿à´•àµà´•àµ‚, à´¸à´‚à´­à´µà´™àµà´™àµ¾ à´±à´¿à´ªàµà´ªàµ‹àµ¼à´Ÿàµà´Ÿàµ à´šàµ†à´¯àµà´¯àµ‚, à´¸àµà´°à´•àµà´·à´¾ à´¨à´Ÿà´ªà´Ÿà´¿à´•àµ¾ à´ªà´ à´¿à´•àµà´•àµ‚.",
  citizenText: "à´ªàµ—à´°àµ» à´†à´¯à´¿ à´²àµ‹à´—à´¿àµ» à´šàµ†à´¯àµà´¯àµà´•",
  officialText: "à´…à´§à´¿à´•àµà´•à´¾à´°à´¿ / à´—à´µàµ‡à´·à´•àµ» à´†à´¯à´¿ à´²àµ‹à´—à´¿àµ» à´šàµ†à´¯àµà´¯àµà´•",
  formTitle: "à´ªàµ—à´°àµ» à´°à´œà´¿à´¸àµà´Ÿàµà´°àµ‡à´·àµ»",
  lblName: "à´ªàµ‡à´°àµ",
  lblAadhaar: "à´†à´§à´¾àµ¼ à´¨à´®àµà´ªàµ¼",
  lblGender: "à´²à´¿à´‚à´—à´‚",
  lblState: "à´¸à´‚à´¸àµà´¥à´¾à´¨à´‚ / à´•àµ‡à´¨àµà´¦àµà´° à´­à´°à´£à´ªàµà´°à´¦àµ‡à´¶à´‚",
  lblDistrict: "à´œà´¿à´²àµà´²",
  lblCity: "à´¨à´—à´°à´‚ / à´ªà´Ÿàµà´Ÿà´£à´‚",
  submitBtn: "à´¸à´®àµ¼à´ªàµà´ªà´¿à´•àµà´•àµà´•"
},

    hi: {
      pageTitle: "à¤†à¤ªà¤•à¤¾ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤¹à¥ˆ à¤†à¤ªà¤¦à¤¾ à¤ªà¥à¤°à¤¬à¤‚à¤§à¤¨ à¤ªà¥‹à¤°à¥à¤Ÿà¤² à¤®à¥‡à¤‚",
      pageSubtitle: "à¤…à¤²à¤°à¥à¤Ÿ à¤ªà¥à¤°à¤¾à¤ªà¥à¤¤ à¤•à¤°à¥‡à¤‚, à¤˜à¤Ÿà¤¨à¤¾à¤“à¤‚ à¤•à¥€ à¤°à¤¿à¤ªà¥‹à¤°à¥à¤Ÿ à¤•à¤°à¥‡à¤‚ à¤”à¤° à¤¸à¥à¤°à¤•à¥à¤·à¤¾ à¤‰à¤ªà¤¾à¤¯ à¤œà¤¾à¤¨à¥‡à¤‚à¥¤",
      citizenText: "à¤¨à¤¾à¤—à¤°à¤¿à¤• à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚ à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¥‡à¤‚",
      officialText: "à¤…à¤§à¤¿à¤•à¤¾à¤°à¥€ / à¤¶à¥‹à¤§à¤•à¤°à¥à¤¤à¤¾ à¤•à¥‡ à¤°à¥‚à¤ª à¤®à¥‡à¤‚ à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¥‡à¤‚",
      formTitle: "à¤¨à¤¾à¤—à¤°à¤¿à¤• à¤ªà¤‚à¤œà¥€à¤•à¤°à¤£",
      lblName: "à¤¨à¤¾à¤®",
      lblAadhaar: "à¤†à¤§à¤¾à¤° à¤¨à¤‚à¤¬à¤°",
      lblGender: "à¤²à¤¿à¤‚à¤—",
      lblState: "à¤°à¤¾à¤œà¥à¤¯ / à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¶à¤¾à¤¸à¤¿à¤¤ à¤ªà¥à¤°à¤¦à¥‡à¤¶",
      lblDistrict: "à¤œà¤¼à¤¿à¤²à¤¾",
      lblCity: "à¤¶à¤¹à¤° / à¤•à¤¸à¥à¤¬à¤¾",
      submitBtn: "à¤œà¤®à¤¾ à¤•à¤°à¥‡à¤‚"
    },
    ta: {
      pageTitle: "à®ªà®¾à®¤à¯à®•à®¾à®ªà¯à®ªà¯ à®®à¯‡à®²à®¾à®£à¯à®®à¯ˆ à®ªà¯‹à®°à¯à®Ÿà¯à®Ÿà®²à¯à®•à¯à®•à¯ à®µà®°à®µà¯‡à®±à¯à®•à®¿à®±à¯‹à®®à¯",
      pageSubtitle: "à®…à®±à®¿à®µà®¿à®ªà¯à®ªà¯à®•à®³à¯ˆà®ªà¯ à®ªà¯†à®±à®µà¯à®®à¯, à®šà®®à¯à®ªà®µà®™à¯à®•à®³à¯ˆà®ªà¯ à®ªà¯à®•à®¾à®°à®³à®¿à®•à¯à®•à®µà¯à®®à¯, à®ªà®¾à®¤à¯à®•à®¾à®ªà¯à®ªà¯ à®¨à®Ÿà®µà®Ÿà®¿à®•à¯à®•à¯ˆà®•à®³à¯ à®•à®±à¯à®±à¯à®•à¯à®•à¯Šà®³à¯à®³à®µà¯à®®à¯.",
      citizenText: "à®ªà¯Šà®¤à¯à®®à®•à¯à®•à®³à¯ à®²à®¾à®•à®¿à®©à¯",
      officialText: "à®…à®¤à®¿à®•à®¾à®°à®¿ / à®†à®°à®¾à®¯à¯à®šà¯à®šà®¿à®¯à®¾à®³à®°à¯ à®²à®¾à®•à®¿à®©à¯",
      formTitle: "à®ªà¯Šà®¤à¯à®®à®•à¯à®•à®³à¯ à®ªà®¤à®¿à®µà¯",
      lblName: "à®ªà¯†à®¯à®°à¯",
      lblAadhaar: "à®†à®¤à®¾à®°à¯ à®à®£à¯",
      lblGender: "à®ªà®¾à®²à®¿à®©à®®à¯",
      lblState: "à®®à®¾à®¨à®¿à®²à®®à¯ / à®¯à¯‚.à®Ÿà®¿.",
      lblDistrict: "à®®à®¾à®µà®Ÿà¯à®Ÿà®®à¯",
      lblCity: "à®¨à®•à®°à¯ / à®Šà®°à¯",
      submitBtn: "à®šà®®à®°à¯à®ªà¯à®ªà®¿à®•à¯à®•à®µà¯à®®à¯"
    },
    te: {
      pageTitle: "à°¡à°¿à°œà°¾à°¸à±à°Ÿà°°à± à°®à±‡à°¨à±‡à°œà±à°®à±†à°‚à°Ÿà± à°ªà±‹à°°à±à°Ÿà°²à±â€Œà°•à± à°¸à±à°µà°¾à°—à°¤à°‚",
      pageSubtitle: "à°…à°²à°°à±à°Ÿà±â€Œà°²à± à°ªà±Šà°‚à°¦à°‚à°¡à°¿, à°˜à°Ÿà°¨à°²à°¨à± à°°à°¿à°ªà±‹à°°à±à°Ÿà± à°šà±‡à°¯à°‚à°¡à°¿ à°®à°°à°¿à°¯à± à°­à°¦à±à°°à°¤à°¾ à°šà°°à±à°¯à°²à°¨à± à°¤à±†à°²à±à°¸à±à°•à±‹à°‚à°¡à°¿.",
      citizenText: "à°¨à°¾à°—à°°à°¿à°•à±à°²à±à°—à°¾ à°²à°¾à°—à°¿à°¨à± à°šà±‡à°¯à°‚à°¡à°¿",
      officialText: "à°…à°§à°¿à°•à°¾à°°à±à°²à± / à°ªà°°à°¿à°¶à±‹à°§à°•à±à°²à± à°²à°¾à°—à°¿à°¨à±",
      formTitle: "à°¨à°¾à°—à°°à°¿à°•à±à°² à°¨à°®à±‹à°¦à±",
      lblName: "à°ªà±‡à°°à±",
      lblAadhaar: "à°†à°§à°¾à°°à± à°¸à°‚à°–à±à°¯",
      lblGender: "à°²à°¿à°‚à°—à°‚",
      lblState: "à°°à°¾à°·à±à°Ÿà±à°°à°‚ / à°•à±‡à°‚à°¦à±à°° à°ªà°¾à°²à°¿à°¤ à°ªà±à°°à°¾à°‚à°¤à°‚",
      lblDistrict: "à°œà°¿à°²à±à°²à°¾",
      lblCity: "à°¨à°—à°°à°‚ / à°ªà°Ÿà±à°Ÿà°£à°‚",
      submitBtn: "à°¸à°®à°°à±à°ªà°¿à°‚à°šà°‚à°¡à°¿"
    },
    bn: {
      pageTitle: "à¦†à¦ªà¦¦à¦¾ à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾à¦ªà¦¨à¦¾ à¦ªà§‹à¦°à§à¦Ÿà¦¾à¦²à§‡ à¦¸à§à¦¬à¦¾à¦—à¦¤à¦®",
      pageSubtitle: "à¦…à§à¦¯à¦¾à¦²à¦¾à¦°à§à¦Ÿ à¦ªà¦¾à¦¨, à¦˜à¦Ÿà¦¨à¦¾ à¦°à¦¿à¦ªà§‹à¦°à§à¦Ÿ à¦•à¦°à§à¦¨ à¦à¦¬à¦‚ à¦¨à¦¿à¦°à¦¾à¦ªà¦¤à§à¦¤à¦¾ à¦¬à§à¦¯à¦¬à¦¸à§à¦¥à¦¾ à¦¶à¦¿à¦–à§à¦¨à¥¤",
      citizenText: "à¦¨à¦¾à¦—à¦°à¦¿à¦• à¦¹à¦¿à¦¸à¦¾à¦¬à§‡ à¦²à¦—à¦‡à¦¨ à¦•à¦°à§à¦¨",
      officialText: "à¦…à¦«à¦¿à¦¸à¦¾à¦° / à¦—à¦¬à§‡à¦·à¦• à¦¹à¦¿à¦¸à¦¾à¦¬à§‡ à¦²à¦—à¦‡à¦¨ à¦•à¦°à§à¦¨",
      formTitle: "à¦¨à¦¾à¦—à¦°à¦¿à¦• à¦¨à¦¿à¦¬à¦¨à§à¦§à¦¨",
      lblName: "à¦¨à¦¾à¦®",
      lblAadhaar: "à¦†à¦§à¦¾à¦° à¦¨à¦®à§à¦¬à¦°",
      lblGender: "à¦²à¦¿à¦™à§à¦—",
      lblState: "à¦°à¦¾à¦œà§à¦¯ / à¦•à§‡à¦¨à§à¦¦à§à¦°à¦¶à¦¾à¦¸à¦¿à¦¤ à¦…à¦à§à¦šà¦²",
      lblDistrict: "à¦œà§‡à¦²à¦¾",
      lblCity: "à¦¶à¦¹à¦° / à¦Ÿà¦¾à¦‰à¦¨",
      submitBtn: "à¦œà¦®à¦¾ à¦¦à¦¿à¦¨"
    },
    gu: {
      pageTitle: "àª†àªªàª¦àª¾ àªµà«àª¯àªµàª¸à«àª¥àª¾àªªàª¨ àªªà«‹àª°à«àªŸàª²àª®àª¾àª‚ àª¸à«àªµàª¾àª—àª¤ àª›à«‡",
      pageSubtitle: "àª…àª²àª°à«àªŸ àª®à«‡àª³àªµà«‹, àª˜àªŸàª¨àª¾àª“àª¨à«€ àª°àª¿àªªà«‹àª°à«àªŸ àª•àª°à«‹ àª…àª¨à«‡ àª¸à«àª°àª•à«àª·àª¾ àªªàª—àª²àª¾àª‚ àª¶à«€àª–à«‹.",
      citizenText: "àª¨àª¾àª—àª°àª¿àª• àª¤àª°à«€àª•à«‡ àª²à«‹àª—àª¿àª¨ àª•àª°à«‹",
      officialText: "àª…àª§àª¿àª•àª¾àª°à«€ / àª¸àª‚àª¶à«‹àª§àª• àª¤àª°à«€àª•à«‡ àª²à«‹àª—àª¿àª¨ àª•àª°à«‹",
      formTitle: "àª¨àª¾àª—àª°àª¿àª• àª¨à«‹àª‚àª§àª£à«€",
      lblName: "àª¨àª¾àª®",
      lblAadhaar: "àª†àª§àª¾àª° àª¨àª‚àª¬àª°",
      lblGender: "àª²àª¿àª‚àª—",
      lblState: "àª°àª¾àªœà«àª¯ / àª•à«‡àª¨à«àª¦à«àª°à«€àª¯ àª•à«àª·à«‡àª¤à«àª°",
      lblDistrict: "àªœàª¿àª²à«àª²à«‹",
      lblCity: "àª¶àª¹à«‡àª° / àªŸàª¾àª‰àª¨",
      submitBtn: "àª¸àª¬àª®àª¿àªŸ àª•àª°à«‹"
    },
    mr: {
      pageTitle: "à¤†à¤ªà¤¤à¥à¤¤à¥€ à¤µà¥à¤¯à¤µà¤¸à¥à¤¥à¤¾à¤ªà¤¨ à¤ªà¥‹à¤°à¥à¤Ÿà¤²à¤®à¤§à¥à¤¯à¥‡ à¤¸à¥à¤µà¤¾à¤—à¤¤ à¤†à¤¹à¥‡",
      pageSubtitle: "à¤…à¤²à¤°à¥à¤Ÿ à¤®à¤¿à¤³à¤µà¤¾, à¤˜à¤Ÿà¤¨à¤¾ à¤¨à¥‹à¤‚à¤¦à¤µà¤¾ à¤†à¤£à¤¿ à¤¸à¥à¤°à¤•à¥à¤·à¤¾ à¤‰à¤ªà¤¾à¤¯ à¤¶à¤¿à¤•à¤¾.",
      citizenText: "à¤¨à¤¾à¤—à¤°à¤¿à¤• à¤®à¥à¤¹à¤£à¥‚à¤¨ à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¤¾",
      officialText: "à¤…à¤§à¤¿à¤•à¤¾à¤°à¥€ / à¤¸à¤‚à¤¶à¥‹à¤§à¤• à¤®à¥à¤¹à¤£à¥‚à¤¨ à¤²à¥‰à¤—à¤¿à¤¨ à¤•à¤°à¤¾",
      formTitle: "à¤¨à¤¾à¤—à¤°à¤¿à¤• à¤¨à¥‹à¤‚à¤¦à¤£à¥€",
      lblName: "à¤¨à¤¾à¤µ",
      lblAadhaar: "à¤†à¤§à¤¾à¤° à¤•à¥à¤°à¤®à¤¾à¤‚à¤•",
      lblGender: "à¤²à¤¿à¤‚à¤—",
      lblState: "à¤°à¤¾à¤œà¥à¤¯ / à¤•à¥‡à¤‚à¤¦à¥à¤° à¤¶à¤¾à¤¸à¤¿à¤¤ à¤ªà¥à¤°à¤¦à¥‡à¤¶",
      lblDistrict: "à¤œà¤¿à¤²à¥à¤¹à¤¾",
      lblCity: "à¤¶à¤¹à¤° / à¤¤à¤¾à¤²à¥à¤•à¤¾",
      submitBtn: "à¤¸à¤¬à¤®à¤¿à¤Ÿ à¤•à¤°à¤¾"
    },
    kn: {
      pageTitle: "à²¡à²¿à²¸à²¾à²¸à³à²Ÿà²°à³ à²®à³à²¯à²¾à²¨à³‡à²œà³â€Œà²®à³†à²‚à²Ÿà³ à²ªà³‹à²°à³à²Ÿà²²à³â€Œà²—à³† à²¸à³à²µà²¾à²—à²¤",
      pageSubtitle: "à²…à²²à²°à³à²Ÿà³â€Œà²—à²³à²¨à³à²¨à³ à²ªà²¡à³†à²¯à²¿à²°à²¿, à²˜à²Ÿà²¨à²¾à²µà²³à²¿à²—à²³à²¨à³à²¨à³ à²µà²°à²¦à²¿ à²®à²¾à²¡à²¿ à²®à²¤à³à²¤à³ à²­à²¦à³à²°à²¤à²¾ à²•à³à²°à²®à²—à²³à²¨à³à²¨à³ à²•à²²à²¿à²¯à²¿à²°à²¿.",
      citizenText: "à²¨à²—à²°à²¿à²•à²°à²¾à²—à²¿ à²²à²¾à²—à²¿à²¨à³ à²®à²¾à²¡à²¿",
      officialText: "à²…à²§à²¿à²•à²¾à²°à²¿ / à²¸à²‚à²¶à³‹à²§à²• à²²à²¾à²—à²¿à²¨à³",
      formTitle: "à²¨à²—à²°à²¿à²•à²° à²¨à³‹à²‚à²¦à²£à²¿",
      lblName: "à²¹à³†à²¸à²°à³",
      lblAadhaar: "à²†à²§à²¾à²°à³ à²¸à²‚à²–à³à²¯à³†",
      lblGender: "à²²à²¿à²‚à²—",
      lblState: "à²°à²¾à²œà³à²¯ / à²•à³‡à²‚à²¦à³à²°à²¾à²¡à²³à²¿à²¤ à²ªà³à²°à²¦à³‡à²¶",
      lblDistrict: "à²œà²¿à²²à³à²²à³†",
      lblCity: "à²¨à²—à²° / à²ªà²Ÿà³à²Ÿà²£",
      submitBtn: "à²¸à²²à³à²²à²¿à²¸à³"
    }
  };

  const t = translations[lang] || translations.en;

  // Update page content
  document.getElementById('pageTitle').innerText = t.pageTitle;
  document.getElementById('pageSubtitle').innerText = t.pageSubtitle;
  document.getElementById('citizenText').innerText = t.citizenText;
  document.getElementById('officialText').innerText = t.officialText;
  document.getElementById('formTitle').innerText = t.formTitle;
  document.getElementById('lblName').innerText = t.lblName;
  document.getElementById('lblAadhaar').innerText = t.lblAadhaar;
  document.getElementById('lblGender').innerText = t.lblGender;
  document.getElementById('lblState').innerText = t.lblState;
  document.getElementById('lblDistrict').innerText = t.lblDistrict;
  document.getElementById('lblCity').innerText = t.lblCity;
  document.getElementById('submitBtn').innerText = t.submitBtn;
}


    /* ------------------ Leaflet Map ------------------ */
    let map, mapInitialized=false;
    function initMap(){
      map = L.map('map').setView([20.5937,78.9629], 5);
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { maxZoom:19 }).addTo(map);
      mapInitialized=true;
      // Add marker examples for coastal cities
      const coastalCities = [
        {name:'Chennai', coords:[13.0827,80.2707]},
        {name:'Mumbai', coords:[19.0760,72.8777]},
        {name:'Kolkata', coords:[22.5726,88.3639]},
        {name:'Visakhapatnam', coords:[17.6868,83.2185]},
        {name:'Kochi', coords:[9.9312,76.2673]},
      ];
      coastalCities.forEach(c=>L.marker(c.coords).addTo(map).bindPopup(c.name));
    }

    function handleFormSubmit(e){ e.preventDefault(); alert("Form submitted! (Placeholder)"); closeCitizenForm(); }

    document.getElementById('citizenForm').addEventListener('submit', function(e){
  e.preventDefault(); // prevent default form submission

  // Collect form data
  const userProfile = {
    name: document.getElementById('inpName').value.trim(),
    aadhaar: document.getElementById('inpAadhaar').value.trim(),
    gender: document.getElementById('inpGender').value,
    state: document.getElementById('inpCoastalState').value,
    district: document.getElementById('inpCoastalDistrict').value,
    city: document.getElementById('inpCity').value.trim()
  };

  // Save to localStorage
  localStorage.setItem('userProfile', JSON.stringify(userProfile));

  // Close the modal
  closeCitizenForm();

  // Redirect to ui.html
  window.location.href = 'ui.html';
});</script>


</body>
</html>

